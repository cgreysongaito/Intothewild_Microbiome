df_Transplant = gs_url("https://docs.google.com/spreadsheets/d/1WhRjoIFJWAAGvsFNHbrf2GZp8K6pNtxoudrhZ6h82ZM/edit") %>%
# create unique identifyer
gs_read()  %>%
# reads the data into R
write_csv(paste(Sys.Date(),"Microbiome_Literature_Summaries.csv"))
attr(df_Transplant, "CreatedOn") = Sys.Date()
# add the same date as an attribute to the R object
glimpse(df_Transplant)
str(df_Transplant) # check last line for date attribute
summary(df_Transplant)
recipients = df_Transplant %>%
dplyr::select(`Recipient Taxon`) %>%
unique() %>%
arrange(`Recipient Taxon`) %>%
pull()
recipients
recipients = tibble(`Recipient Taxon` = recipients, Rodent.Recip = "Other")
recipients = tibble(`Recipient Taxon` = recipients, Rodent.Recip = "Other")
recipients = tibble(`Recipient Taxon` = recipients, Rodent.Recip = "Other")
recipients # check which are rodents
recipients[c(14,15,18,19,23), 2] = "Rodent"
recipients %>% View()
## create new column with lookup table and left_join
df_Transplant = left_join(df_Transplant, recipients, by = "Recipient Taxon")
df_Transplant %>%
dplyr::select(`Recipient Taxon`, Rodent.Recip.y) %>%
View() # check if conversion was done correctly
df_Transplant
df_Transplant %>%
dplyr::select(`Recipient Taxon`, Rodent.Recip) %>%
View() # check if conversion was done correctly
df_Transplant %>%
dplyr::select(Rodent.Recip, starts_with("Eco-Reality")) %>%
# select the relevant columns for the plotting function
gather(starts_with("Eco-reality of"), key = "Type", value = "Eco-Reality") %>%
# create the long format for ease of plotting
# not necessary to create individual figures (see code below)
mutate(`Eco-Reality` = as.numeric(`Eco-Reality`)) %>%
# this is probably only needed bc of the NAs from the new articles
#TODO rerun after all the data are added/verified
ggplot() +
geom_histogram(aes(x = `Eco-Reality`,
fill = Rodent.Recip),
binwidth = 1) +
facet_grid (`Eco-Reality Taxon Match` ~ Type, scales = "free_x") +
#TODO: create shorter lables for the facet columns
theme(legend.position = "top")
warnings()
df_Transplant = gs_url("https://docs.google.com/spreadsheets/d/1WhRjoIFJWAAGvsFNHbrf2GZp8K6pNtxoudrhZ6h82ZM/edit") %>%
# create unique identifyer
gs_read()  %>%
# reads the data into R
write_csv(paste(Sys.Date(),"Microbiome_Literature_Summaries.csv"))
attr(df_Transplant, "CreatedOn") = Sys.Date()
# add the same date as an attribute to the R object
glimpse(df_Transplant)
str(df_Transplant) # check last line for date attribute
summary(df_Transplant)
recipients = df_Transplant %>%
dplyr::select(`Recipient Taxon`) %>%
unique() %>%
arrange(`Recipient Taxon`) %>%
pull()
recipients # check which are rodents
recipients = tibble(`Recipient Taxon` = recipients, Rodent.Recip = "Other")
recipients[c(14:16,19,20,24), 2] = "Rodent"
recipients %>% View()
## create new column with lookup table and left_join
df_Transplant = left_join(df_Transplant, recipients, by = "Recipient Taxon")
df_Transplant %>%
dplyr::select(`Recipient Taxon`, Rodent.Recip) %>%
View()
df_Transplant$Rodent.Recip <- df_Transplant$`Recipient Taxon` #Create a new column identical to recipient taxon column
df_Transplant %>%
dplyr::select(Rodent.Recip, starts_with("Eco-Reality")) %>%
# select the relevant columns for the plotting function
gather(starts_with("Eco-reality of"), key = "Type", value = "Eco-Reality") %>%
# create the long format for ease of plotting
# not necessary to create individual figures (see code below)
mutate(`Eco-Reality` = as.numeric(`Eco-Reality`)) %>%
# this is probably only needed bc of the NAs from the new articles
#TODO rerun after all the data are added/verified
ggplot() +
geom_histogram(aes(x = `Eco-Reality`,
fill = Rodent.Recip),
binwidth = 1) +
facet_grid (`Eco-Reality Taxon Match` ~ Type, scales = "free_x") +
#TODO: create shorter lables for the facet columns
theme(legend.position = "top")
df_Transplant
df_Transplant %>%
dplyr::select(Rodent.Recip, starts_with("Eco-Reality"))
df_Transplant %>%
dplyr::select(Rodent.Recip, starts_with("Eco-Reality")) %>%
# select the relevant columns for the plotting function
gather(starts_with("Eco-reality of"), key = "Type", value = "Eco-Reality") %>%
# create the long format for ease of plotting
# not necessary to create individual figures (see code below)
mutate(`Eco-Reality` = as.numeric(`Eco-Reality`))
df_Transplant %>%
dplyr::select(Rodent.Recip, starts_with("Eco-Reality")) %>%
# select the relevant columns for the plotting function
gather(starts_with("Eco-reality of"), key = "Type", value = "Eco-Reality") %>%
# create the long format for ease of plotting
# not necessary to create individual figures (see code below)
mutate(`Eco-Reality` = as.numeric(`Eco-Reality`)) %>%
# this is probably only needed bc of the NAs from the new articles
#TODO rerun after all the data are added/verified
ggplot() +
geom_histogram(aes(x = `Eco-Reality`,
fill = Rodent.Recip),
binwidth = 1) +
facet_grid (`Eco-Reality Taxon Match` ~ Type, scales = "free_x") +
#TODO: create shorter lables for the facet columns
theme(legend.position = "top")
df_Transplant = read_csv("2018-11-20 Microbiome_Literature_Summaries.csv")
recipients = df_Transplant %>%
dplyr::select(`Recipient Taxon`) %>%
unique() %>%
arrange(`Recipient Taxon`) %>%
pull()
recipients # check which are rodents
recipients = tibble(`Recipient Taxon` = recipients, Rodent.Recip = "Other")
recipients[c(14,15,18:19,23), 2] = "Rodent"
recipients %>% View()
## create new column with lookup table and left_join
df_Transplant = left_join(df_Transplant, recipients, by = "Recipient Taxon")
df_Transplant %>%
dplyr::select(`Recipient Taxon`, Rodent.Recip) %>%
View()
df_Transplant %>%
dplyr::select(Rodent.Recip, starts_with("Eco-Reality")) %>%
# select the relevant columns for the plotting function
gather(starts_with("Eco-reality of"), key = "Type", value = "Eco-Reality") %>%
# create the long format for ease of plotting
# not necessary to create individual figures (see code below)
mutate(`Eco-Reality` = as.numeric(`Eco-Reality`)) %>%
# this is probably only needed bc of the NAs from the new articles
#TODO rerun after all the data are added/verified
ggplot() +
geom_histogram(aes(x = `Eco-Reality`,
fill = Rodent.Recip),
binwidth = 1) +
facet_grid (`Eco-Reality Taxon Match` ~ Type, scales = "free_x") +
#TODO: create shorter lables for the facet columns
theme(legend.position = "top")
df_Transplant = gs_url("https://docs.google.com/spreadsheets/d/1WhRjoIFJWAAGvsFNHbrf2GZp8K6pNtxoudrhZ6h82ZM/edit") %>%
# create unique identifyer
gs_read()  %>%
# reads the data into R
write_csv(paste(Sys.Date(),"Microbiome_Literature_Summaries.csv"))
View(df_Transplant)
attr(df_Transplant, "CreatedOn") = Sys.Date()
warnings()
# add the same date as an attribute to the R object
glimpse(df_Transplant)
str(df_Transplant) # check last line for date attribute
recipients = df_Transplant %>%
dplyr::select(`Recipient Taxon`) %>%
unique() %>%
arrange(`Recipient Taxon`) %>%
pull()
recipients # check which are rodents
recipients = tibble(`Recipient Taxon` = recipients, LabRodent.Recip = "Other")
recipients[c(14:16,19:20), 2] = "LabRodent"
recipients %>% View()
## create new column with lookup table and left_join
df_Transplant = left_join(df_Transplant, recipients, by = "Recipient Taxon")
df_Transplant %>%
dplyr::select(`Recipient Taxon`, Rodent.Recip) %>%
View()
df_Transplant
df_Transplant %>%
dplyr::select(`Recipient Taxon`, LabRodent.Recip) %>%
View()
df_Transplant %>%
dplyr::select(LabRodent.Recip, starts_with("Eco-Reality")) %>%
# select the relevant columns for the plotting function
gather(starts_with("Eco-reality of"), key = "Type", value = "Eco-Reality") %>%
# create the long format for ease of plotting
# not necessary to create individual figures (see code below)
mutate(`Eco-Reality` = as.numeric(`Eco-Reality`)) %>%
# this is probably only needed bc of the NAs from the new articles
#TODO rerun after all the data are added/verified
ggplot() +
geom_histogram(aes(x = `Eco-Reality`,
fill = LabRodent.Recip),
binwidth = 1) +
facet_grid (`Eco-Reality Taxon Match` ~ Type, scales = "free_x") +
#TODO: create shorter lables for the facet columns
theme(legend.position = "top")
ls()
ls() %>% rm()
ls() %>% rm(list = .)
ls()
rm(list = ls())
df_Transplant = gs_url("https://docs.google.com/spreadsheets/d/1WhRjoIFJWAAGvsFNHbrf2GZp8K6pNtxoudrhZ6h82ZM/edit") %>%
# create unique identifyer
gs_read()  %>%
# reads the data into R
write_csv(paste(Sys.Date(),"Microbiome_Literature_Summaries.csv"))
attr(df_Transplant, "CreatedOn") = Sys.Date()
# add the same date as an attribute to the R object
glimpse(df_Transplant)
str(df_Transplant) # check last line for date attribute
summary(df_Transplant)
recipients = df_Transplant %>%
dplyr::select(`Recipient Taxon`) %>%
unique() %>%
arrange(`Recipient Taxon`) %>%
pull()
recipients # check which are rodents
recipients = tibble(`Recipient Taxon` = recipients, LabRodent.Recip = "Other")
recipients[c(14:16,19:20), 2] = "LabRodent"
recipients %>% View()
## create new column with lookup table and left_join
df_Transplant = left_join(df_Transplant, recipients, by = "Recipient Taxon")
df_Transplant %>%
dplyr::select(`Recipient Taxon`, LabRodent.Recip) %>%
View()
df_Transplant %>%
dplyr::select(LabRodent.Recip, starts_with("Eco-Reality")) %>%
# select the relevant columns for the plotting function
gather(starts_with("Eco-reality of"), key = "Type", value = "Eco-Reality") %>%
# create the long format for ease of plotting
# not necessary to create individual figures (see code below)
mutate(`Eco-Reality` = as.numeric(`Eco-Reality`)) %>%
# this is probably only needed bc of the NAs from the new articles
#TODO rerun after all the data are added/verified
ggplot() +
geom_histogram(aes(x = `Eco-Reality`,
fill = LabRodent.Recip),
binwidth = 1) +
facet_grid (`Eco-Reality Taxon Match` ~ Type, scales = "free_x") +
#TODO: create shorter lables for the facet columns
theme(legend.position = "top")
warnings()
write_csv(df_Transplant, ./data/paste(Sys.Date(),"Microbiome_Literature_Summaries.csv"))
write_csv(df_Transplant, "./data/paste(Sys.Date(),Microbiome_Literature_Summaries.csv"))
write_csv(df_Transplant, "./data/paste(Sys.Date(),Microbiome_Literature_Summaries.csv"))
write_csv(df_Transplant, "./data/paste(Sys.Date(),Microbiome_Literature_Summaries.csv)")
write_csv(df_Transplant, ./data/paste(Sys.Date(),Microbiome_Literature_Summaries.csv))
df_Transplant = gs_url("https://docs.google.com/spreadsheets/d/1WhRjoIFJWAAGvsFNHbrf2GZp8K6pNtxoudrhZ6h82ZM/edit") %>%
# create unique identifyer
gs_read()  %>%
# reads the data into R
write_csv(paste(Sys.Date(),"Microbiome_Literature_Summaries.csv"))
ggsave(paste(Sys.Date(),"Eco-realityComparisons.pdf"))
ggsave(paste(Sys.Date(),"Eco-realityComparisons.pdf"),
width = 5, height = 10, units = "cm")
ggsave(paste(Sys.Date(),"Eco-realityComparisons.pdf"),
width = 10, height = 5, units = "cm")
ggsave(paste(Sys.Date(),"Eco-realityComparisons.pdf"),
width = 15, height = 10, units = "cm")
ggsave(paste(Sys.Date(),"Eco-realityComparisons.pdf"),
width = 20, height = 10, units = "cm")
ggsave(paste(Sys.Date(),"Eco-realityComparisons.pdf"),
width = 25, height = 10, units = "cm")
